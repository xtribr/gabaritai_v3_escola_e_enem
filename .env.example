# =============================================================================
# GabaritAI - Variáveis de Ambiente
# =============================================================================
# Copie este arquivo para .env e preencha os valores.
# Para produção, use .env.production ou configure via dashboard (Vercel/Fly.io)
# =============================================================================

# -----------------------------------------------------------------------------
# AMBIENTE (opcional em dev, obrigatório em prod)
# -----------------------------------------------------------------------------
# NODE_ENV: development | production | test
# PORT: Porta do servidor Express (padrão: 8080)
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=8080

# -----------------------------------------------------------------------------
# SUPABASE - Frontend
# -----------------------------------------------------------------------------
# Estas variáveis são expostas ao browser (prefixo VITE_)
# Obtenha em: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
# -----------------------------------------------------------------------------
VITE_SUPABASE_URL=https://YOUR_PROJECT.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_ANON_KEY

# -----------------------------------------------------------------------------
# SUPABASE - Backend (Service Role)
# -----------------------------------------------------------------------------
# ATENÇÃO: NUNCA exponha a SERVICE_KEY ao frontend!
# A service key tem acesso total ao banco, use apenas no servidor.
# Obtenha em: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
# -----------------------------------------------------------------------------
SUPABASE_URL=https://YOUR_PROJECT.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.YOUR_SERVICE_KEY

# -----------------------------------------------------------------------------
# OPENAI - Análise IA e ChatGPT OMR
# -----------------------------------------------------------------------------
# OPENAI_API_KEY: Obrigatória para funcionalidades de IA
#   Obtenha em: https://platform.openai.com/api-keys
#
# CHATGPT_MODEL: Modelo a usar (padrão: gpt-4o-mini)
#   Opções: gpt-4o-mini (rápido/barato), gpt-4o (melhor qualidade)
#
# OPENAI_BASE_URL: URL base da API (padrão: https://api.openai.com/v1)
#   Altere apenas se usar proxy ou API compatível
#
# OPENAI_ASSISTANT_ID: ID de um assistente personalizado (opcional)
#   Crie em: https://platform.openai.com/assistants
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-proj-your-openai-key-here
CHATGPT_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_ASSISTANT_ID=asst_xxxx

# -----------------------------------------------------------------------------
# SERVIÇOS PYTHON - Desenvolvimento Local
# -----------------------------------------------------------------------------
# Estes serviços rodam localmente durante desenvolvimento.
# Em produção, apontam para instâncias no Fly.io.
#
# PYTHON_OMR_URL: Serviço de leitura de gabaritos (OpenCV)
#   Local: http://localhost:5002
#   Prod:  https://xtri-gabaritos-omr.fly.dev
#
# PYTHON_TRI_URL: Serviço de cálculo TRI (Teoria de Resposta ao Item)
#   Local: http://localhost:5003
#   Prod:  https://xtri-gabaritos-tri.fly.dev
#
# USE_PYTHON_OMR/TRI: Habilitar serviços Python (true/false)
#   Se false, usa alternativas (ChatGPT para OMR, cálculo simples para TRI)
#
# OCR_SERVICE_URL: Serviço OCR alternativo (opcional)
# -----------------------------------------------------------------------------
PYTHON_OMR_URL=http://localhost:5002
USE_PYTHON_OMR=true

PYTHON_TRI_URL=http://localhost:5003
USE_PYTHON_TRI=true

# OCR_SERVICE_URL=http://localhost:5004

# -----------------------------------------------------------------------------
# CORS - Configuração de Domínios (apenas para referência)
# -----------------------------------------------------------------------------
# FRONTEND_URL: URL do frontend para configurar CORS
#   Dev:  http://localhost:5173
#   Prod: https://gabaritai.vercel.app
#
# Nota: CORS é configurado no código, não via variável de ambiente.
# Veja server/index.ts para ajustar os domínios permitidos.
# -----------------------------------------------------------------------------
# FRONTEND_URL=http://localhost:5173
